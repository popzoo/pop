<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <title>å®šåˆ¶ç‰ˆ</title>
  <meta content="lvlanxing" name="author">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <meta content="å®šåˆ¶,è–…ç¾Šæ¯›" name="Keywords">
  <link rel="shortcut icon" href="https://rawcdn.githack.com/popzoo/pop/9d4121eed5cbb035e55203b8a9e56a73dcf2e6bf/images/favicon.ico"> 
  <style type="text/css">
      *{margin:0;padding:0;list-style-type:none;}
      a,img{border:0;}
      body{font:12px/180% Arial, Helvetica, sans-serif, "æ–°å®‹ä½“";margin:0 0;}
  </style>    
</head>
<body>
    <a href="https://github.com/ownthink/robot/" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#444444; color:#FFAAAA; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
    <a href="https://github.com/wolf-scream/FirePowerSeek" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#444444; color:#FFFF77; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <div style="position: absolute; height:30px; color:purple; line-height:30px; margin-left: -150px; padding:5px 0 10px 50%; font-size:30px; font-family: Arial,Microsoft YaHei,'å®‹ä½“';">
        ğŸŒ»è–…ç¾Šæ¯›å®šåˆ¶åŠŸèƒ½ğŸŒ»
        <span class="collapse" style="text-align: right;white-space: nowrap; margin-right: 60px;  font-size: 20px;"> 
            <a class="nav-link" style="text-decoration:none;color: purple;" href="https://popzoo.github.io/zoo/">æ—¶å…‰è½´</a> â€¢
            <!-- <a class="nav-link" style="text-decoration:none;color: purple;" href="https://popzoo.github.io/pop/firenode.html">ç«åŠ›æˆ¿</a> â€¢ -->
            <a class="nav-link" style="text-decoration:none;color: purple;" href="https://lvlanxing.coding.me/pop/">ç«åŠ›æˆ¿</a> â€¢
            <a class="nav-link" style="text-decoration:none;color: purple;" href="https://popzoo.github.io/barrage/">äº‘å¼¹å¹•</a> â€¢
            <!-- <a class="nav-link" style="text-decoration:none;color: purple;" href="https://popzoo.github.io/pop/giftshow.html">ç¤¼ç‰©ç§€</a> â€¢ -->
            <a class="nav-link" style="text-decoration:none;color: purple;" href="https://lvlanxing.coding.me/pop/giftshow.html">ç¤¼ç‰©ç§€</a> â€¢
            <!-- <a class="nav-link" style="text-decoration:none;color: purple;" href="https://popzoo.github.io/pop/motorcade.html">è½¦é˜Ÿå±•</a> -->
            <a class="nav-link" style="text-decoration:none;color: purple;" href="https://lvlanxing.coding.me/pop/motorcade.html">è½¦é˜Ÿå±•</a>
        </span>
    </div>
    <div style="position: absolute;left: 50%; top: 12%;line-height: 35px;  text-align: center;margin-left: -400px;max-width: 800px;">
        <h3 style="font-size: 25px;color:blue;">è–…ç¾Šæ¯›å®šåˆ¶ç‰ˆæœ¬ç²‰å¢¨ç™»åœº</h3>
        <div style="font-size: 20px;text-align: left; background-color: rgba(202,225,255,0.6);border-radius: 6px;padding:10px 10px;">
<!--             <span>1.æœ€è¿‘ç½‘ç«™çš„èŠ‚ç‚¹æ•°æ®æ€»æ˜¯å—åˆ°è«åç”¨æˆ·çš„æ”»å‡»æˆ–æ¶æ„å†™ä¹±æ”¹ï¼Œåœ¨è¿™é‡Œæˆ‘å…ˆå¯¹æˆ‘ä¹‹å‰å¯èƒ½çŠ¯ä¸‹ç½„ç«¹éš¾ä¹¦çš„ç½ªè´£å’Œâ€˜è«é¡»æœ‰â€™æ“¢å‘éš¾æ•°æ¶è¡Œè¡¨ç¤ºæ·±æ²‰çš„å¿æ‚”ä¸è¯šæ„çš„é“æ­‰ã€‚æ–‘ç«¹å“ªç‚¹åšçš„ä¸å¥½ï¼Œéƒ½æ”¹å“ˆï¼Œæ¯•ç«Ÿäººæ— å®Œäººï¼Œå¤§å®¶è¿˜å¤šå¤šåŒ…æ¶µã€‚</span><br/>
            <span>2.ç›®å‰ç½‘ç«™çš„å…±äº«èŠ‚ç‚¹æ˜¯å­˜åœ¨ç½‘ç›˜ä¸Šï¼Œæ•°æ®æ˜¯å¤§å®¶ä¸€èµ·ç”¨çš„ï¼Œæ²¡æœ‰åšå®‰å…¨ç»´æŠ¤ï¼Œéšè—åŠŸèƒ½ä¹Ÿåªæ˜¯æ‚¨ä¸Šä¼ ä¸‹å¼¹å¹•ï¼Œç”¨æ–—é±¼æ˜µç§°ç™»é™†å³å¯ï¼Œå®Œå…¨æ²¡æœ‰ä»€ä¹ˆé™åˆ¶é—¨æ§›ã€‚ä½†å°±æ˜¯è¿™æ ·è¿˜å—åˆ°æ— ç«¯çš„æ¶æ„æ”»å‡»æˆ–ç¯¡æ”¹ï¼ŒèŠ‚ç‚¹æ•°æ®ä¸€äº¡å†äº¡ï¼Œç½‘ç«™é¡µé¢ä¸€ç”­å†ç”­ã€‚è„šæœ¬éƒ½æ˜¯å…è´¹æä¾›ç»™å¤§å®¶åšäº¤æµã€å¨±ä¹ã€å­¦ä¹ ç”¨çš„ï¼Œç›®å‰æ–‘æ— å¿ç»´æŠ¤ï¼Œè¿˜è¦æ”¯ä»˜æ¯æœˆåå¥½å‡ å—çš„ç½‘ç›˜è´¹ç”¨(è¿˜å¥½æœ‰å¥½å¿ƒçš„<a href="https://popzoo.github.io/zoo/">å¤§ä½¬æåŠ©</a>æ”¯æŒ)ï¼Œå·²ç»å¤Ÿæ®šç²¾ç«­è™‘ã€è€—è´¹å¿ƒç¥çš„äº†ï¼ŒçœŸçš„æ²¡æœ‰ä½™åŠ›åœ¨åšå®‰å…¨ç»´æŠ¤äº†ï¼Œæ‰€ä»¥å¸Œæœ›å¤§å®¶éƒ½èƒ½å¤šä½“è°…ä¸‹ä½œè€…çš„è‹¦æ¥šä¸å‡„å‡‰ï¼Œå¦‚æœçœŸçš„åˆ°äº†â€˜ç ´å±‹æ›´é­è¿å¤œé›¨ï¼Œæ¼èˆ¹åˆé‡æ‰“å¤´é£â€™çš„åœ°æ­¥ï¼Œæ–‘ç«¹ä¹Ÿåªèƒ½ç ´ç½å­ç ´æ‘”ï¼Œå½»åº•å…³é—­ç½‘ç«™ï¼Œè¿˜æˆ‘ä¸€èº«é€é¥ï¼</span><br/>
            <span>3.å¯¹äºå¤§å®¶çš„éšç§ä¿æŠ¤æ–¹é¢æ–‘ç«¹å¯èƒ½åšå¾—ä¸å¤Ÿå¥½ï¼Œè¿˜è¯·è§è°…ï¼Œå¦‚æœä¸æƒ³å…±äº«è‡ªå·±çš„èŠ‚ç‚¹æˆ–æ‹’ç»æ–‘ç«¹çš„æ•°æ®é‡‡é›†çš„ï¼Œæ–‘ç«¹ä¼šåœ¨ç¨åæˆ‘æ•´ç†ä¸‹æŠŠéœ€è¦ä»£ç å±è”½æˆ–ä¿®æ”¹çš„åœ°æ–¹éƒ½å…¨éƒ¨å‘Šè¯‰å¤§å®¶ï¼Œè¿™æ ·å¤§å®¶å°±å¯ä»¥åŒ¿åä½¿ç”¨è„šæœ¬äº†ï¼Œè¿˜è¯·å¤§å®¶æ”¾è¿‡èŠ‚ç‚¹æ•°æ®ï¼Œå€Ÿç”¨é™ˆå† å¸Œå¸…ä»”çš„ä¸€å¥è¯â€œåˆ«ææˆ‘ï¼â€ï¼Œæœ€å¥½è¯šæ³è¯·æ±‚å¤§å®¶æ”¾è¿‡ï¼è·ªè°¢ï¼</span><br/> -->
            <span>å¤§å®¶å¦‚æœæœ‰éœ€è¦è–…ç¾Šæ¯›å®šåˆ¶ä¸ªæ€§éœ€æ±‚ï¼Œå¯ä»¥è¿›å…¥QQç¾¤ï¼ˆ650178547ï¼‰è”ç³»å°ç¼–ï¼Œå°ç¼–å°½æœ€å¤§åŠªåŠ›æ»¡è¶³å„ä½è€çˆ·ä»¬çš„éœ€æ±‚å“ˆï¼Œéšæ„æ‰“èµäº›å°è´¹ï¼Œå°±æ˜¯æ‚¨å¯¹å°ç¼–çš„æœ€å¤§æ”¯æŒäº†å“ˆï¼Œæ‚¨çš„æåŠ©å’Œæ”¯æŒå¥æ˜¯å°ç¼–å®µè¡£æ—°é£Ÿè‚è„šæœ¬ï¼Œç„šè†ç»§æ™·æ’¸ä»£ç çš„æºåŠ¨åŠ›ï¼ŒæŸ¥å…‹æ‹‰ï¼Œèƒ½é‡æ ¸ï¼</span><br/>
            <span>ç™½å«–è°¢å¹•å‘Šç™½,â€œç‹¬ä¹ä¹(ç™½å«–)ï¼Œä¸äººä¹ä¹(ç™½å«–)ï¼Œå­°ä¹?â€å’Œå¤§å®¶ä¸€èµ·è–…ç¾Šæ¯›æ‰æ˜¯çœŸçš„ä¹ï¼</span><br/>
        </div>
        <div style="text-align: center;margin-top: 20px;">
            <img style="width:250px;border-radius: 6px;opacity: 0.9" src="https://coding.net/u/lvlanxing/p/popzoo/git/raw/master/pics/qqCrowd.png"/>
        </div>     
    </div>
    <canvas id="sakura" style="z-index: -1;"></canvas>
<!-- sakura shader -->
<script id="sakura_point_vsh" type="x-shader/x_vertex">
uniform mat4 uProjection;
uniform mat4 uModelview;
uniform vec3 uResolution;
uniform vec3 uOffset;
uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start

attribute vec3 aPosition;
attribute vec3 aEuler;
attribute vec2 aMisc; //x:size, y:fade

varying vec3 pposition;
varying float psize;
varying float palpha;
varying float pdist;

//varying mat3 rotMat;
varying vec3 normX;
varying vec3 normY;
varying vec3 normZ;
varying vec3 normal;

varying float diffuse;
varying float specular;
varying float rstop;
varying float distancefade;

void main(void) {
    // Projection is based on vertical angle
    vec4 pos = uModelview * vec4(aPosition + uOffset, 1.0);
    gl_Position = uProjection * pos;
    gl_PointSize = aMisc.x * uProjection[1][1] / -pos.z * uResolution.y * 0.5;

    pposition = pos.xyz;
    psize = aMisc.x;
    pdist = length(pos.xyz);
    palpha = smoothstep(0.0, 1.0, (pdist - 0.1) / uFade.z);

    vec3 elrsn = sin(aEuler);
    vec3 elrcs = cos(aEuler);
    mat3 rotx = mat3(
        1.0, 0.0, 0.0,
        0.0, elrcs.x, elrsn.x,
        0.0, -elrsn.x, elrcs.x
    );
    mat3 roty = mat3(
        elrcs.y, 0.0, -elrsn.y,
        0.0, 1.0, 0.0,
        elrsn.y, 0.0, elrcs.y
    );
    mat3 rotz = mat3(
        elrcs.z, elrsn.z, 0.0, 
        -elrsn.z, elrcs.z, 0.0,
        0.0, 0.0, 1.0
    );
    mat3 rotmat = rotx * roty * rotz;
    normal = rotmat[2];

    mat3 trrotm = mat3(
        rotmat[0][0], rotmat[1][0], rotmat[2][0],
        rotmat[0][1], rotmat[1][1], rotmat[2][1],
        rotmat[0][2], rotmat[1][2], rotmat[2][2]
    );
    normX = trrotm[0];
    normY = trrotm[1];
    normZ = trrotm[2];

    const vec3 lit = vec3(0.6917144638660746, 0.6917144638660746, -0.20751433915982237);

    float tmpdfs = dot(lit, normal);
    if(tmpdfs < 0.0) {
        normal = -normal;
        tmpdfs = dot(lit, normal);
    }
    diffuse = 0.4 + tmpdfs;

    vec3 eyev = normalize(-pos.xyz);
    if(dot(eyev, normal) > 0.0) {
        vec3 hv = normalize(eyev + lit);
        specular = pow(max(dot(hv, normal), 0.0), 20.0);
    }
    else {
        specular = 0.0;
    }

    rstop = clamp((abs(pdist - uDOF.x) - uDOF.y) / uDOF.z, 0.0, 1.0);
    rstop = pow(rstop, 0.5);
    //-0.69315 = ln(0.5)
    distancefade = min(1.0, exp((uFade.x - pdist) * 0.69315 / uFade.y));
}
</script>
<script id="sakura_point_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif

uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start

const vec3 fadeCol = vec3(0.08, 0.03, 0.06);

varying vec3 pposition;
varying float psize;
varying float palpha;
varying float pdist;

//varying mat3 rotMat;
varying vec3 normX;
varying vec3 normY;
varying vec3 normZ;
varying vec3 normal;

varying float diffuse;
varying float specular;
varying float rstop;
varying float distancefade;

float ellipse(vec2 p, vec2 o, vec2 r) {
    vec2 lp = (p - o) / r;
    return length(lp) - 1.0;
}

void main(void) {
    vec3 p = vec3(gl_PointCoord - vec2(0.5, 0.5), 0.0) * 2.0;
    vec3 d = vec3(0.0, 0.0, -1.0);
    float nd = normZ.z; //dot(-normZ, d);
    if(abs(nd) < 0.0001) discard;

    float np = dot(normZ, p);
    vec3 tp = p + d * np / nd;
    vec2 coord = vec2(dot(normX, tp), dot(normY, tp));

    //angle = 15 degree
    const float flwrsn = 0.258819045102521;
    const float flwrcs = 0.965925826289068;
    mat2 flwrm = mat2(flwrcs, -flwrsn, flwrsn, flwrcs);
    vec2 flwrp = vec2(abs(coord.x), coord.y) * flwrm;

    float r;
    if(flwrp.x < 0.0) {
        r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.36, 0.96) * 0.5);
    }
    else {
        r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.58, 0.96) * 0.5);
    }

    if(r > rstop) discard;

    vec3 col = mix(vec3(1.0, 0.8, 0.75), vec3(1.0, 0.9, 0.87), r);
    float grady = mix(0.0, 1.0, pow(coord.y * 0.5 + 0.5, 0.35));
    col *= vec3(1.0, grady, grady);
    col *= mix(0.8, 1.0, pow(abs(coord.x), 0.3));
    col = col * diffuse + specular;

    col = mix(fadeCol, col, distancefade);

    float alpha = (rstop > 0.001)? (0.5 - r / (rstop * 2.0)) : 1.0;
    alpha = smoothstep(0.0, 1.0, alpha) * palpha;

    gl_FragColor = vec4(col * 0.5, alpha);
}
</script>
<!-- effects -->
<script id="fx_common_vsh" type="x-shader/x_vertex">
uniform vec3 uResolution;
attribute vec2 aPosition;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    gl_Position = vec4(aPosition, 0.0, 1.0);
    texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);
    screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);
}
</script>
<script id="bg_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif

uniform vec2 uTimes;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    vec3 col;
    float c;
    vec2 tmpv = texCoord * vec2(0.8, 1.0) - vec2(0.95, 1.0);
    c = exp(-pow(length(tmpv) * 1.8, 2.0));
    col = mix(vec3(0.02, 0.0, 0.03), vec3(0.96, 0.98, 1.0) * 1.5, c);
    gl_FragColor = vec4(col * 0.5, 1.0);
}
</script>
<script id="fx_brightbuf_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform vec2 uDelta;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    vec4 col = texture2D(uSrc, texCoord);
    gl_FragColor = vec4(col.rgb * 2.0 - vec3(0.5), 1.0);
}
</script>
<script id="fx_dirblur_r4_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform vec2 uDelta;
uniform vec4 uBlurDir; //dir(x, y), stride(z, w)

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    vec4 col = texture2D(uSrc, texCoord);
    col = col + texture2D(uSrc, texCoord + uBlurDir.xy * uDelta);
    col = col + texture2D(uSrc, texCoord - uBlurDir.xy * uDelta);
    col = col + texture2D(uSrc, texCoord + (uBlurDir.xy + uBlurDir.zw) * uDelta);
    col = col + texture2D(uSrc, texCoord - (uBlurDir.xy + uBlurDir.zw) * uDelta);
    gl_FragColor = col / 5.0;
}
</script>
<!-- effect fragment shader template -->
<script id="fx_common_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform vec2 uDelta;

varying vec2 texCoord;
varying vec2 screenCoord;

void main(void) {
    gl_FragColor = texture2D(uSrc, texCoord);
}
</script>
<!-- post processing -->
<script id="pp_final_vsh" type="x-shader/x_vertex">
uniform vec3 uResolution;
attribute vec2 aPosition;
varying vec2 texCoord;
varying vec2 screenCoord;
void main(void) {
    gl_Position = vec4(aPosition, 0.0, 1.0);
    texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);
    screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);
}
</script>
<script id="pp_final_fsh" type="x-shader/x_fragment">
#ifdef GL_ES
//precision mediump float;
precision highp float;
#endif
uniform sampler2D uSrc;
uniform sampler2D uBloom;
uniform vec2 uDelta;
varying vec2 texCoord;
varying vec2 screenCoord;
void main(void) {
    vec4 srccol = texture2D(uSrc, texCoord) * 2.0;
    vec4 bloomcol = texture2D(uBloom, texCoord);
    vec4 col;
    col = srccol + bloomcol * (vec4(1.0) + srccol);
    col *= smoothstep(1.0, 0.0, pow(length((texCoord - vec2(0.5)) * 2.0), 1.2) * 0.5);
    col = pow(col, vec4(0.45454545454545)); //(1.0 / 2.2)

    gl_FragColor = vec4(col.rgb, 1.0);
    gl_FragColor.a = 1.0;
}
</script>
<!-- <script src="js/flower.js"></script> -->
<script src="https://coding.net/u/lvlanxing/p/popzoo/git/raw/master/js/bg-flower.js"></script>
</body>
</html>